"use strict";(self.webpackChunkedgeio=self.webpackChunkedgeio||[]).push([[865],{6865:(q,m,r)=>{r.r(m),r.d(m,{LandingPageModule:()=>y});var g=r(4655),d=r(3536),h=r(2340),e=r(7716),Z=r(2970),w=r(4865),u=r(5291),l=r(3738),s=r(3679),p=r(1095);let v=(()=>{class n{constructor(t,o,i,c,b){this.router=t,this.userService=o,this.authService=i,this.notifyService=c,this.api=b,this.sm_ip=h.N.apiUrl,this.user=this.create_user_entity()}submitLogin(){0!==this.user.name.length&&0!==this.user.password.length?this.userService.login({username:this.user.name,password:this.user.password}).subscribe(o=>{!0===o&&this.authService.getAuthorization().subscribe(()=>this.router.navigate(["/control"]))},o=>this.notifyService.notify(d.D.error,o.error.message)):this.notifyService.notify(d.D.error,"Please provide valid inputs for login.")}forgotPassword(){0!==this.user.name.length?this.api.resetPassword(this.user.name).subscribe(()=>{this.notifyService.notify(d.D.success,"An email with a reset password link was sent")}):this.notifyService.notify(d.D.error,"Please provide a valid username")}create_user_entity(){return{_id:{$oid:"set in the mongoDB"},name:"Daniel",password:"1234",email:"",created_at:"",roles:[]}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(g.F0),e.Y36(Z.K),e.Y36(w.e),e.Y36(d.g),e.Y36(u.s))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-login"]],decls:27,vars:3,consts:[[1,"example-card"],["alt","EdgeIO Logo","mat-card-image","","src","../../../assets/img/logo-white-bg.png"],["accept-charset","UTF-8","role","form",1,"form-signin"],[1,"form-group"],["for","username",1,"cols-sm-2","control-label"],[1,"cols-sm-10"],[1,"input-group"],["id","username","name","username","placeholder","Enter your Username","type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-group",2,"margin-top","8px"],["for","password",1,"cols-sm-2","control-label"],[1,"pull-right","text-primary",2,"cursor","pointer","float","right",3,"click"],[1,"input-group-addon"],["aria-hidden","true",1,"fa","fa-lock","fa-lg"],["id","password","name","password","placeholder","Enter your Password","type","password",1,"form-control",3,"ngModel","ngModelChange"],[2,"display","flex","justify-content","center"],["color","primary","mat-button","","mat-flat-button","","type","button",2,"margin-top","8px",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"mat-card",0),e._UZ(1,"img",1),e.TgZ(2,"mat-card-content"),e.TgZ(3,"p"),e._uU(4),e.qZA(),e.TgZ(5,"form",2),e.TgZ(6,"div"),e.TgZ(7,"div",3),e.TgZ(8,"label",4),e._uU(9,"Username"),e.qZA(),e.TgZ(10,"div",5),e.TgZ(11,"div",6),e.TgZ(12,"input",7),e.NdJ("ngModelChange",function(c){return o.user.name=c}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(13,"div",8),e.TgZ(14,"label",9),e._uU(15,"Password"),e.qZA(),e.TgZ(16,"span",10),e.NdJ("click",function(){return o.forgotPassword()}),e._uU(17,"Forgot password?"),e.qZA(),e.TgZ(18,"div",5),e.TgZ(19,"div",6),e.TgZ(20,"span",11),e._UZ(21,"i",12),e.qZA(),e.TgZ(22,"input",13),e.NdJ("ngModelChange",function(c){return o.user.password=c}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(23,"hr"),e.TgZ(24,"div",14),e.TgZ(25,"button",15),e.NdJ("click",function(){return o.submitLogin()}),e._uU(26,"Sign in "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(4),e.hij("Connecting to: ",o.sm_ip,""),e.xp6(8),e.Q6J("ngModel",o.user.name),e.xp6(10),e.Q6J("ngModel",o.user.password))},directives:[l.a8,l.G2,l.dn,s._Y,s.JL,s.F,s.Fj,s.JJ,s.On,p.lW],styles:[".example-card[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;width:80%;margin-left:-40%;margin-top:-40vh}@media only screen and (min-width: 801px){.example-card[_ngcontent-%COMP%]{width:40%;margin-left:-20%}}@media only screen and (min-width: 1201px){.example-card[_ngcontent-%COMP%]{width:25%;margin-left:-12.5%}}"]}),n})(),T=(()=>{class n{constructor(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-landingpage"]],decls:2,vars:0,consts:[[2,"background-color","#002b5c","width","100vw","height","100vh"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"router-outlet"),e.qZA())},directives:[g.lC],encapsulation:2}),n})();var f=r(8583);function P(n,a){1&n&&(e.TgZ(0,"div",14),e._uU(1," Please enter the same password again to confirm. "),e.qZA())}const C=[{path:"",component:T,children:[{path:"",component:v,pathMatch:"full"},{path:"resetPassword/:resetPasswordToken",component:(()=>{class n{constructor(t,o,i,c){this.router=t,this.activatedRoute=o,this.api=i,this.notifyService=c,this.resetPasswordToken="",this.newPassword="",this.confirmNewPassword="",this.form=new s.cw({newPass:new s.NI("",s.kI.required),confirmPass:new s.NI("",s.kI.required)})}ngOnInit(){this.activatedRoute.params.subscribe(t=>{const o=t.resetPasswordToken;o?(this.resetPasswordToken=o,console.log(o)):this.router.navigate(["/"])})}get samePasswords(){var t,o;return(null===(t=this.form.get("newPass"))||void 0===t?void 0:t.value)==(null===(o=this.form.get("confirmPass"))||void 0===o?void 0:o.value)}submitNewPassword(){this.api.saveResetPassword(this.resetPasswordToken,this.newPassword).subscribe(()=>{this.notifyService.notify(d.D.success,"New password saved!")},t=>console.log(t))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(g.F0),e.Y36(g.gz),e.Y36(u.s),e.Y36(d.g))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-reset-password"]],decls:26,vars:2,consts:[[1,"example-card"],["accept-charset","UTF-8",1,"form-signin",3,"formGroup"],[1,"form-group"],["for","newPassword",1,"cols-sm-2","control-label"],[1,"cols-sm-10"],[1,"input-group"],[1,"input-group-addon"],["aria-hidden","true",1,"fa","fa-lock","fa-lg"],["formControlName","newPass","id","newPassword","placeholder","New password","type","password",1,"form-control"],["for","confirmNewPassword",1,"cols-sm-2","control-label"],["formControlName","confirmPass","id","confirmNewPassword","placeholder","Confirm password","type","password",1,"form-control"],["class","alert alert-danger",4,"ngIf"],[2,"width","100%","text-align","center","margin-top","30px"],["color","primary","mat-button","","mat-flat-button","","type","button",3,"click"],[1,"alert","alert-danger"]],template:function(t,o){1&t&&(e.TgZ(0,"mat-card",0),e.TgZ(1,"mat-card-title"),e._uU(2,"Change Password"),e.qZA(),e.TgZ(3,"mat-card-content"),e.TgZ(4,"form",1),e.TgZ(5,"fieldset"),e.TgZ(6,"div",2),e.TgZ(7,"label",3),e._uU(8,"New Password"),e.qZA(),e.TgZ(9,"div",4),e.TgZ(10,"div",5),e.TgZ(11,"span",6),e._UZ(12,"i",7),e.qZA(),e._UZ(13,"input",8),e.qZA(),e.qZA(),e.qZA(),e.TgZ(14,"div",2),e.TgZ(15,"label",9),e._uU(16,"Confirm new password"),e.qZA(),e.TgZ(17,"div",4),e.TgZ(18,"div",5),e.TgZ(19,"span",6),e._UZ(20,"i",7),e.qZA(),e._UZ(21,"input",10),e.qZA(),e.YNc(22,P,2,0,"div",11),e.qZA(),e.qZA(),e.TgZ(23,"div",12),e.TgZ(24,"button",13),e.NdJ("click",function(){return o.submitNewPassword()}),e._uU(25,"Save new password "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(4),e.Q6J("formGroup",o.form),e.xp6(18),e.Q6J("ngIf",o.form.get("confirmPass").touched&&!o.samePasswords))},directives:[l.a8,l.n5,l.dn,s._Y,s.JL,s.sg,s.Fj,s.JJ,s.u,f.O5,p.lW],styles:[".example-card[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;width:25%;margin-left:-12.5%;margin-top:-40vh}input[_ngcontent-%COMP%]{margin-top:5px}label[_ngcontent-%COMP%]{margin-top:15px}fieldset[_ngcontent-%COMP%]{margin:0;border:none}"]}),n})()}]}];var A=r(6627);let y=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[],imports:[[g.Bz.forChild(C),s.u5,l.QW,p.ot,A.Ps,s.UX,f.ez],g.Bz]}),n})()}}]);