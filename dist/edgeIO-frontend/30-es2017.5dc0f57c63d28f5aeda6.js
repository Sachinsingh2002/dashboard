"use strict";(self.webpackChunkedgeio=self.webpackChunkedgeio||[]).push([[30],{4030:function(e,t,r){r.r(t),r.d(t,{LandingPageModule:function(){return b}});var o=r(4655),n=r(3536),s=r(2340),i=r(7716),a=r(2970),l=r(4865),c=r(5291),d=r(3738),g=r(6627),u=r(1436),p=r(3679),m=r(1095);let Z=(()=>{class e{constructor(e,t,r,o,n){this.router=e,this.userService=t,this.authService=r,this.notifyService=o,this.api=n,this.sm_ip=s.N.apiUrl,this.user=this.create_user_entity()}submitLogin(){0!==this.user.name.length&&0!==this.user.password.length?this.userService.login({username:this.user.name,password:this.user.password}).subscribe(e=>{!0===e&&this.authService.getAuthorization().subscribe(()=>this.router.navigate(["/control"]))},e=>this.notifyService.notify(n.D.error,e)):this.notifyService.notify(n.D.error,"Please provide valid inputs for login.")}forgotPassword(){0!==this.user.name.length?this.api.resetPassword(this.user.name).subscribe(()=>{this.notifyService.notify(n.D.success,"An email with a reset password link was sent")}):this.notifyService.notify(n.D.error,"Please provide a valid username")}create_user_entity(){return{_id:{$oid:"set in the mongoDB"},name:"",password:"",email:"",created_at:"",roles:[]}}registerForm(){this.router.navigate(["/register"])}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(o.F0),i.Y36(a.K),i.Y36(l.e),i.Y36(n.g),i.Y36(c.s))},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-login"]],decls:32,vars:3,consts:[[1,"login-form"],["alt","EdgeIO Logo","mat-card-image","","src","../../../assets/img/color-full.png"],[2,"float","right",3,"matTooltip"],["accept-charset","UTF-8","role","form",1,"form-signin"],[1,"form-group"],["for","username",1,"cols-sm-2","control-label"],[1,"cols-sm-10"],[1,"input-group"],["id","username","name","username","placeholder","Enter your Username","type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-group",2,"margin-top","8px"],["for","password",1,"cols-sm-2","control-label"],[1,"pull-right","text-primary",2,"cursor","pointer","float","right",3,"click"],[1,"input-group-addon"],["aria-hidden","true",1,"fa","fa-lock","fa-lg"],["id","password","name","password","placeholder","Enter your Password","type","password",1,"form-control",3,"ngModel","keyup.enter","ngModelChange"],[2,"display","flex","justify-content","center"],["mat-button","","mat-flat-button","","type","button",2,"background-color","#4A7083","color","#fff",3,"click"],[2,"display","flex","justify-content","center","margin-top","8px"]],template:function(e,t){1&e&&(i.TgZ(0,"mat-card",0),i._UZ(1,"img",1),i.TgZ(2,"mat-card-content"),i.TgZ(3,"mat-icon",2),i._uU(4,"info"),i.qZA(),i.TgZ(5,"form",3),i.TgZ(6,"div"),i.TgZ(7,"div",4),i.TgZ(8,"label",5),i._uU(9,"Username"),i.qZA(),i.TgZ(10,"div",6),i.TgZ(11,"div",7),i.TgZ(12,"input",8),i.NdJ("ngModelChange",function(e){return t.user.name=e}),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(13,"div",9),i.TgZ(14,"label",10),i._uU(15,"Password"),i.qZA(),i.TgZ(16,"span",11),i.NdJ("click",function(){return t.forgotPassword()}),i._uU(17,"Forgot password?"),i.qZA(),i.TgZ(18,"div",6),i.TgZ(19,"div",7),i.TgZ(20,"span",12),i._UZ(21,"i",13),i.qZA(),i.TgZ(22,"input",14),i.NdJ("keyup.enter",function(){return t.submitLogin()})("ngModelChange",function(e){return t.user.password=e}),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i._UZ(23,"hr"),i.TgZ(24,"div",15),i.TgZ(25,"button",16),i.NdJ("click",function(){return t.submitLogin()}),i._uU(26,"Sign in "),i.qZA(),i.qZA(),i.TgZ(27,"div",17),i.TgZ(28,"label",10),i._uU(29,"Don't have an account?\u2002"),i.qZA(),i.TgZ(30,"span",11),i.NdJ("click",function(){return t.registerForm()}),i._uU(31,"Sign up now"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA()),2&e&&(i.xp6(3),i.MGl("matTooltip","Connecting to: ",t.sm_ip,""),i.xp6(9),i.Q6J("ngModel",t.user.name),i.xp6(10),i.Q6J("ngModel",t.user.password))},directives:[d.a8,d.G2,d.dn,g.Hw,u.gM,p._Y,p.JL,p.F,p.Fj,p.JJ,p.On,m.lW],styles:[".login-form[_ngcontent-%COMP%]{width:80%;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}@media only screen and (min-width: 801px){.login-form[_ngcontent-%COMP%]{width:70%}}@media only screen and (min-width: 1201px){.login-form[_ngcontent-%COMP%]{width:35%}}"]}),e})(),f=(()=>{class e{constructor(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-landingpage"]],decls:2,vars:0,consts:[[2,"background-color","#002b5c","width","100vw","height","100vh"]],template:function(e,t){1&e&&(i.TgZ(0,"div",0),i._UZ(1,"router-outlet"),i.qZA())},directives:[o.lC],encapsulation:2}),e})();var h=r(8583);function w(e,t){1&e&&(i.TgZ(0,"div",14),i._uU(1," Please enter the same password again to confirm. "),i.qZA())}const v=[{path:"",component:f,children:[{path:"",component:Z,pathMatch:"full"},{path:"resetPassword/:resetPasswordToken",component:(()=>{class e{constructor(e,t,r,o){this.router=e,this.activatedRoute=t,this.api=r,this.notifyService=o,this.resetPasswordToken="",this.form=new p.cw({newPass:new p.NI("",p.kI.required),confirmPass:new p.NI("",p.kI.required)})}ngOnInit(){this.activatedRoute.params.subscribe(e=>{const t=e.resetPasswordToken;t?(this.resetPasswordToken=t,console.log(t)):this.router.navigate(["/"])})}get samePasswords(){var e,t;return(null===(e=this.form.get("newPass"))||void 0===e?void 0:e.value)==(null===(t=this.form.get("confirmPass"))||void 0===t?void 0:t.value)}submitNewPassword(){var e;let t=null===(e=this.form.get("newPass"))||void 0===e?void 0:e.value;this.api.saveResetPassword(this.resetPasswordToken,t).subscribe(()=>{this.notifyService.notify(n.D.success,"New password saved!"),this.router.navigate(["/"])},e=>console.log(e))}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(o.F0),i.Y36(o.gz),i.Y36(c.s),i.Y36(n.g))},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-reset-password"]],decls:26,vars:3,consts:[[1,"example-card"],["accept-charset","UTF-8",1,"form-signin",3,"formGroup"],[1,"form-group"],["for","newPassword",1,"cols-sm-2","control-label"],[1,"cols-sm-10"],[1,"input-group"],[1,"input-group-addon"],["aria-hidden","true",1,"fa","fa-lock","fa-lg"],["formControlName","newPass","id","newPassword","placeholder","New password","type","password",1,"form-control"],["for","confirmNewPassword",1,"cols-sm-2","control-label"],["formControlName","confirmPass","id","confirmNewPassword","placeholder","Confirm password","type","password",1,"form-control"],["class","alert alert-danger",4,"ngIf"],[2,"width","100%","text-align","center","margin-top","30px"],["color","primary","mat-button","","mat-flat-button","","type","button",3,"disabled","click"],[1,"alert","alert-danger"]],template:function(e,t){1&e&&(i.TgZ(0,"mat-card",0),i.TgZ(1,"mat-card-title"),i._uU(2,"Change Password"),i.qZA(),i.TgZ(3,"mat-card-content"),i.TgZ(4,"form",1),i.TgZ(5,"fieldset"),i.TgZ(6,"div",2),i.TgZ(7,"label",3),i._uU(8,"New Password"),i.qZA(),i.TgZ(9,"div",4),i.TgZ(10,"div",5),i.TgZ(11,"span",6),i._UZ(12,"i",7),i.qZA(),i._UZ(13,"input",8),i.qZA(),i.qZA(),i.qZA(),i.TgZ(14,"div",2),i.TgZ(15,"label",9),i._uU(16,"Confirm new password"),i.qZA(),i.TgZ(17,"div",4),i.TgZ(18,"div",5),i.TgZ(19,"span",6),i._UZ(20,"i",7),i.qZA(),i._UZ(21,"input",10),i.qZA(),i.YNc(22,w,2,0,"div",11),i.qZA(),i.qZA(),i.TgZ(23,"div",12),i.TgZ(24,"button",13),i.NdJ("click",function(){return t.submitNewPassword()}),i._uU(25,"Save new password "),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA()),2&e&&(i.xp6(4),i.Q6J("formGroup",t.form),i.xp6(18),i.Q6J("ngIf",t.form.get("confirmPass").touched&&!t.samePasswords),i.xp6(2),i.Q6J("disabled",!t.form.valid||!t.samePasswords))},directives:[d.a8,d.n5,d.dn,p._Y,p.JL,p.sg,p.Fj,p.JJ,p.u,h.O5,m.lW],styles:[".example-card[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;width:25%;margin-left:-12.5%;margin-top:-40vh}input[_ngcontent-%COMP%]{margin-top:5px}label[_ngcontent-%COMP%]{margin-top:15px}fieldset[_ngcontent-%COMP%]{margin:0;border:none}"]}),e})()},{path:"register",component:(()=>{class e{constructor(e){this.router=e,this.sm_ip=s.N.apiUrl}submitRegister(){}loginForm(){this.router.navigate([""])}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(o.F0))},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-register"]],decls:49,vars:0,consts:[[1,"register-form"],[2,"display","flex","justify-content","center","font-size","x-large"],[1,"cols-sm-2","control-label"],["accept-charset","UTF-8","role","form",1,"form-signup"],[1,"form-group",2,"margin-top","8px"],["for","username",1,"cols-sm-2","control-label"],[1,"cols-sm-10"],[1,"input-group"],["id","username","name","username","placeholder","Enter your Username","type","text","formControlName","name",1,"form-control"],["for","email",1,"cols-sm-2","control-label"],[1,"input-group-addon"],["aria-hidden","true",1,"fa","fa-lock","fa-lg"],["id","email","name","email","placeholder","Enter your Email",1,"form-control"],["for","password",1,"cols-sm-2","control-label"],["id","password","name","password","placeholder","Enter your Password","type","password",1,"form-control"],["id","password2","name","password","placeholder","Confirm your Password","type","password",1,"form-control"],[2,"display","flex","justify-content","center"],["color","primary","mat-button","","mat-flat-button","","type","button",2,"margin-top","8px",3,"click"],[2,"display","flex","justify-content","center","margin-top","8px"],[1,"pull-right","text-primary",2,"cursor","pointer","float","right",3,"click"]],template:function(e,t){1&e&&(i.TgZ(0,"mat-card",0),i.TgZ(1,"div",1),i.TgZ(2,"label",2),i.TgZ(3,"strong"),i._uU(4,"REGISTRATION FORM"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(5,"form",3),i.TgZ(6,"div",4),i.TgZ(7,"label",5),i.TgZ(8,"strong"),i._uU(9,"Username"),i.qZA(),i.qZA(),i.TgZ(10,"div",6),i.TgZ(11,"div",7),i._UZ(12,"input",8),i.qZA(),i.qZA(),i.qZA(),i.TgZ(13,"div",4),i.TgZ(14,"label",9),i.TgZ(15,"strong"),i._uU(16,"Email address"),i.qZA(),i.qZA(),i.TgZ(17,"div",6),i.TgZ(18,"div",7),i.TgZ(19,"span",10),i._UZ(20,"i",11),i.qZA(),i._UZ(21,"input",12),i.qZA(),i.qZA(),i.qZA(),i.TgZ(22,"div",4),i.TgZ(23,"label",13),i.TgZ(24,"strong"),i._uU(25,"Password"),i.qZA(),i.qZA(),i.TgZ(26,"div",6),i.TgZ(27,"div",7),i.TgZ(28,"span",10),i._UZ(29,"i",11),i.qZA(),i._UZ(30,"input",14),i.qZA(),i.qZA(),i.qZA(),i.TgZ(31,"div",4),i.TgZ(32,"label",13),i.TgZ(33,"strong"),i._uU(34,"Confirm Password"),i.qZA(),i.qZA(),i.TgZ(35,"div",6),i.TgZ(36,"div",7),i.TgZ(37,"span",10),i._UZ(38,"i",11),i.qZA(),i._UZ(39,"input",15),i.qZA(),i.qZA(),i.qZA(),i.TgZ(40,"div"),i.TgZ(41,"div",16),i.TgZ(42,"button",17),i.NdJ("click",function(){return t.submitRegister()}),i._uU(43,"Sign up "),i.qZA(),i.qZA(),i.qZA(),i.TgZ(44,"div",18),i.TgZ(45,"label",13),i._uU(46,"Have already an account?\u2002"),i.qZA(),i.TgZ(47,"span",19),i.NdJ("click",function(){return t.loginForm()}),i._uU(48,"Login here"),i.qZA(),i.qZA(),i.qZA(),i.qZA())},directives:[d.a8,p._Y,p.JL,p.F,p.Fj,p.JJ,p.u,m.lW],styles:[".register-form[_ngcontent-%COMP%]{width:80%;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}@media only screen and (min-width: 801px){.register-form[_ngcontent-%COMP%]{width:40%}}@media only screen and (min-width: 1201px){.register-form[_ngcontent-%COMP%]{width:25%}}"]}),e})(),pathMatch:"full"}]}];var T=r(8295),A=r(9983),q=r(2238);let b=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({providers:[],imports:[[o.Bz.forChild(v),p.u5,d.QW,m.ot,g.Ps,p.UX,h.ez,u.AV,T.lN,A.c,q.Is],o.Bz]}),e})()}}]);