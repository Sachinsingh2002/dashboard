"use strict";(self.webpackChunkedgeio=self.webpackChunkedgeio||[]).push([[865],{6865:(M,c,r)=>{r.r(c),r.d(c,{LandingPageModule:()=>b});var m=r(4655),l=r(3536),v=r(2340),e=r(7716),w=r(2970),T=r(4865),u=r(5291),d=r(3738),f=r(6627),h=r(1436),s=r(3679),p=r(1095);let P=(()=>{class n{constructor(o,t,a,g,q){this.router=o,this.userService=t,this.authService=a,this.notifyService=g,this.api=q,this.sm_ip=v.N.apiUrl,this.user=this.create_user_entity()}submitLogin(){0!==this.user.name.length&&0!==this.user.password.length?this.userService.login({username:this.user.name,password:this.user.password}).subscribe(t=>{!0===t&&this.authService.getAuthorization().subscribe(()=>this.router.navigate(["/control"]))},t=>this.notifyService.notify(l.D.error,t.error.message)):this.notifyService.notify(l.D.error,"Please provide valid inputs for login.")}forgotPassword(){0!==this.user.name.length?this.api.resetPassword(this.user.name).subscribe(()=>{this.notifyService.notify(l.D.success,"An email with a reset password link was sent")}):this.notifyService.notify(l.D.error,"Please provide a valid username")}create_user_entity(){return{_id:{$oid:"set in the mongoDB"},name:"",password:"",email:"",created_at:"",roles:[]}}}return n.\u0275fac=function(o){return new(o||n)(e.Y36(m.F0),e.Y36(w.K),e.Y36(T.e),e.Y36(l.g),e.Y36(u.s))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-login"]],decls:27,vars:3,consts:[[1,"login-form"],["alt","EdgeIO Logo","mat-card-image","","src","../../../assets/img/logo-white-bg.png"],[2,"float","right",3,"matTooltip"],["accept-charset","UTF-8","role","form",1,"form-signin"],[1,"form-group"],["for","username",1,"cols-sm-2","control-label"],[1,"cols-sm-10"],[1,"input-group"],["id","username","name","username","placeholder","Enter your Username","type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-group",2,"margin-top","8px"],["for","password",1,"cols-sm-2","control-label"],[1,"pull-right","text-primary",2,"cursor","pointer","float","right",3,"click"],[1,"input-group-addon"],["aria-hidden","true",1,"fa","fa-lock","fa-lg"],["id","password","name","password","placeholder","Enter your Password","type","password",1,"form-control",3,"ngModel","keyup.enter","ngModelChange"],[2,"display","flex","justify-content","center"],["color","primary","mat-button","","mat-flat-button","","type","button",2,"margin-top","8px",3,"click"]],template:function(o,t){1&o&&(e.TgZ(0,"mat-card",0),e._UZ(1,"img",1),e.TgZ(2,"mat-card-content"),e.TgZ(3,"mat-icon",2),e._uU(4,"info"),e.qZA(),e.TgZ(5,"form",3),e.TgZ(6,"div"),e.TgZ(7,"div",4),e.TgZ(8,"label",5),e._uU(9,"Username"),e.qZA(),e.TgZ(10,"div",6),e.TgZ(11,"div",7),e.TgZ(12,"input",8),e.NdJ("ngModelChange",function(g){return t.user.name=g}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(13,"div",9),e.TgZ(14,"label",10),e._uU(15,"Password"),e.qZA(),e.TgZ(16,"span",11),e.NdJ("click",function(){return t.forgotPassword()}),e._uU(17,"Forgot password?"),e.qZA(),e.TgZ(18,"div",6),e.TgZ(19,"div",7),e.TgZ(20,"span",12),e._UZ(21,"i",13),e.qZA(),e.TgZ(22,"input",14),e.NdJ("keyup.enter",function(){return t.submitLogin()})("ngModelChange",function(g){return t.user.password=g}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(23,"hr"),e.TgZ(24,"div",15),e.TgZ(25,"button",16),e.NdJ("click",function(){return t.submitLogin()}),e._uU(26,"Sign in "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&o&&(e.xp6(3),e.MGl("matTooltip","Connecting to: ",t.sm_ip,""),e.xp6(9),e.Q6J("ngModel",t.user.name),e.xp6(10),e.Q6J("ngModel",t.user.password))},directives:[d.a8,d.G2,d.dn,f.Hw,h.gM,s._Y,s.JL,s.F,s.Fj,s.JJ,s.On,p.lW],styles:[".login-form[_ngcontent-%COMP%]{width:80%;height:-moz-fit-content;height:fit-content;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}@media only screen and (min-width: 801px){.login-form[_ngcontent-%COMP%]{width:40%}}@media only screen and (min-width: 1201px){.login-form[_ngcontent-%COMP%]{width:25%}}"]}),n})(),C=(()=>{class n{constructor(){}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-landingpage"]],decls:2,vars:0,consts:[[2,"background-color","#002b5c","width","100vw","height","100vh"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0),e._UZ(1,"router-outlet"),e.qZA())},directives:[m.lC],encapsulation:2}),n})();var Z=r(8583);function y(n,i){1&n&&(e.TgZ(0,"div",14),e._uU(1," Please enter the same password again to confirm. "),e.qZA())}const A=[{path:"",component:C,children:[{path:"",component:P,pathMatch:"full"},{path:"resetPassword/:resetPasswordToken",component:(()=>{class n{constructor(o,t,a,g){this.router=o,this.activatedRoute=t,this.api=a,this.notifyService=g,this.resetPasswordToken="",this.form=new s.cw({newPass:new s.NI("",s.kI.required),confirmPass:new s.NI("",s.kI.required)})}ngOnInit(){this.activatedRoute.params.subscribe(o=>{const t=o.resetPasswordToken;t?(this.resetPasswordToken=t,console.log(t)):this.router.navigate(["/"])})}get samePasswords(){var o,t;return(null===(o=this.form.get("newPass"))||void 0===o?void 0:o.value)==(null===(t=this.form.get("confirmPass"))||void 0===t?void 0:t.value)}submitNewPassword(){var o;let t=null===(o=this.form.get("newPass"))||void 0===o?void 0:o.value;this.api.saveResetPassword(this.resetPasswordToken,t).subscribe(()=>{this.notifyService.notify(l.D.success,"New password saved!"),this.router.navigate(["/"])},a=>console.log(a))}}return n.\u0275fac=function(o){return new(o||n)(e.Y36(m.F0),e.Y36(m.gz),e.Y36(u.s),e.Y36(l.g))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-reset-password"]],decls:26,vars:3,consts:[[1,"example-card"],["accept-charset","UTF-8",1,"form-signin",3,"formGroup"],[1,"form-group"],["for","newPassword",1,"cols-sm-2","control-label"],[1,"cols-sm-10"],[1,"input-group"],[1,"input-group-addon"],["aria-hidden","true",1,"fa","fa-lock","fa-lg"],["formControlName","newPass","id","newPassword","placeholder","New password","type","password",1,"form-control"],["for","confirmNewPassword",1,"cols-sm-2","control-label"],["formControlName","confirmPass","id","confirmNewPassword","placeholder","Confirm password","type","password",1,"form-control"],["class","alert alert-danger",4,"ngIf"],[2,"width","100%","text-align","center","margin-top","30px"],["color","primary","mat-button","","mat-flat-button","","type","button",3,"disabled","click"],[1,"alert","alert-danger"]],template:function(o,t){1&o&&(e.TgZ(0,"mat-card",0),e.TgZ(1,"mat-card-title"),e._uU(2,"Change Password"),e.qZA(),e.TgZ(3,"mat-card-content"),e.TgZ(4,"form",1),e.TgZ(5,"fieldset"),e.TgZ(6,"div",2),e.TgZ(7,"label",3),e._uU(8,"New Password"),e.qZA(),e.TgZ(9,"div",4),e.TgZ(10,"div",5),e.TgZ(11,"span",6),e._UZ(12,"i",7),e.qZA(),e._UZ(13,"input",8),e.qZA(),e.qZA(),e.qZA(),e.TgZ(14,"div",2),e.TgZ(15,"label",9),e._uU(16,"Confirm new password"),e.qZA(),e.TgZ(17,"div",4),e.TgZ(18,"div",5),e.TgZ(19,"span",6),e._UZ(20,"i",7),e.qZA(),e._UZ(21,"input",10),e.qZA(),e.YNc(22,y,2,0,"div",11),e.qZA(),e.qZA(),e.TgZ(23,"div",12),e.TgZ(24,"button",13),e.NdJ("click",function(){return t.submitNewPassword()}),e._uU(25,"Save new password "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&o&&(e.xp6(4),e.Q6J("formGroup",t.form),e.xp6(18),e.Q6J("ngIf",t.form.get("confirmPass").touched&&!t.samePasswords),e.xp6(2),e.Q6J("disabled",!t.form.valid||!t.samePasswords))},directives:[d.a8,d.n5,d.dn,s._Y,s.JL,s.sg,s.Fj,s.JJ,s.u,Z.O5,p.lW],styles:[".example-card[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;width:25%;margin-left:-12.5%;margin-top:-40vh}input[_ngcontent-%COMP%]{margin-top:5px}label[_ngcontent-%COMP%]{margin-top:15px}fieldset[_ngcontent-%COMP%]{margin:0;border:none}"]}),n})()}]}];let b=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[],imports:[[m.Bz.forChild(A),s.u5,d.QW,p.ot,f.Ps,s.UX,Z.ez,h.AV],m.Bz]}),n})()}}]);