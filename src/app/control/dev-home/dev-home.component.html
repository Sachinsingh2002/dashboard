<div class="content-cards">
  <mat-card class="serviceCard">

    <div *ngIf="sharedService.applicationObservable$ != null">
      <mat-card-title>Application: {{appName}}</mat-card-title>
      <div>
        <mat-card *ngFor="let job of jobs$ ">
          <div class="w3-row">
            <div class="w3-col s6">
              <p>{{job.microservice_name}}</p>
            </div>

            <div class="w3-col s5 w3-left">
              <p>{{job.status}}</p>
            </div>

            <div class="w3-col s1">
              <button [matMenuTriggerFor]="settings" mat-icon-button type="button">
                <mat-icon style="vertical-align: top">more_vert</mat-icon>
              </button>
              <mat-menu #settings="matMenu">
                <button [routerLink]="['deploy', job._id.$oid]" mat-menu-item>
                  <mat-icon>edit</mat-icon>
                  Edit
                </button>
                <button (click)="deleteJob(job)" mat-menu-item>
                  <mat-icon>delete</mat-icon>
                  Delete
                </button>
                <button (click)="deployJob(job)" mat-menu-item>
                  <mat-icon>send</mat-icon>
                  Deploy
                </button>
              </mat-menu>
            </div>
          </div>
        </mat-card>

        <graph (updated)="deleteJobWithGraph($event)" [jobs]="jobs$"></graph>

      </div>
    </div>
  </mat-card>
</div>
