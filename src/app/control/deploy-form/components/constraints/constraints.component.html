<div>
    <h4 class="addButtonDiv">Constraints:</h4>
    <button [matMenuTriggerFor]="selectConstrains" class="add-btn" mat-mini-fab type="button">
        <mat-icon>add</mat-icon>
    </button>
    <mat-menu #selectConstrains="matMenu" yPosition="above">
        <button (click)="addConstrains('latency')" mat-menu-item type="button">Latency Constraints</button>
        <button (click)="addConstrains('geo')" mat-menu-item type="button">Geo Constraints</button>
    </mat-menu>
</div>

<!-- TODO Create inputs for the new attributes-->
<div>
    <mat-card *ngFor="let cons of constraints; let i = index">
        <div>
            <div *ngIf="canViewLatConstrains[i]" class="constraints">
                <div>
                    <h5 class="addButtonDiv">Latency Constrains</h5>
                    <button (click)="deleteConstrains(i)" mat-icon-button type="button">
                        <mat-icon>delete</mat-icon>
                    </button>
                </div>
                <mat-form-field>
                    <mat-label>Area</mat-label>
                    <select
                        matNativeControl
                        matTooltip="Specifies the area in which the constraint is in effect"
                        required
                    >
                        <!-- // TODO Add the real locations -->
                        <option value="munich1">Munich 1</option>
                        <option value="munich2">Munich 2</option>
                        <option value="frankfurt">Frankfurt</option>
                    </select>
                </mat-form-field>

                <mat-form-field>
                    <mat-label>Threshold</mat-label>
                    <input matInput matTooltip="Maximum latency" type="number" value="0" />
                    <p matSuffix>ms</p>
                </mat-form-field>

                <mat-form-field>
                    <mat-label>Rigidness</mat-label>
                    <input matInput max="1" min="0" step="0.01" type="number" value="0" />
                    <p matSuffix>%</p>
                </mat-form-field>

                <mat-form-field>
                    <mat-label>Convergence Time</mat-label>
                    <input matInput type="number" value="300" />
                    <p matSuffix>sec</p>
                </mat-form-field>
            </div>

            <div *ngIf="!canViewLatConstrains[i]" class="constraints">
                <div>
                    <h5 class="addButtonDiv">Geo Constrains</h5>
                    <button (click)="deleteConstrains(i)" mat-icon-button type="button">
                        <mat-icon>delete</mat-icon>
                    </button>
                </div>

                <div class="w3-col l4 m4 s6">
                    <mat-form-field>
                        <mat-label>Longitude</mat-label>
                        <input #long matInput type="number" />
                    </mat-form-field>
                </div>

                <div class="w3-col l4 m4 s6">
                    <mat-form-field>
                        <mat-label>Latitude</mat-label>
                        <input #lat matInput type="number" />
                    </mat-form-field>
                </div>

                <div class="location">
                    <input [ngModel]="'(' + long.value + ',' + lat.value + ')'" matInput />
                </div>

                <mat-form-field>
                    <mat-label>Threshold</mat-label>
                    <input matInput type="number" />
                    <p matSuffix>km</p>
                </mat-form-field>

                <mat-form-field>
                    <mat-label>Rigidness</mat-label>
                    <input matInput max="100" min="0" type="number" value="0" />
                    <p matSuffix>%</p>
                </mat-form-field>

                <mat-form-field>
                    <mat-label>Convergence Time</mat-label>
                    <input matInput type="number" value="300" />
                    <p matSuffix>sec</p>
                </mat-form-field>
            </div>
        </div>
    </mat-card>
</div>
